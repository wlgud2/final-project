### 오류

1. git 에서 clone하고 sts에서 프로젝트 열었을 때 build.gradle 우클릭 시, gradle 탭이 없는 것을 확인

- 해결
  - Configure - Add Gradle Nature
  - [참조](https://bug41.tistory.com/130)

### 주요 진행 상황

1. 다른 사람의 DB 접속 *sqldeveloper이용*
	- [참조](https://javagirl.tistory.com/6)
	- application.properties에서
	- ```properties
	  # Oracle
	  spring.datasource.hikari.driver-class-name=oracle.jdbc.driver.OracleDriver
	  spring.datasource.hikari.jdbc-url: jdbc:oracle:thin:@**database-1.cxfxuru6havp.ap-northeast-2.rds.amazonaws.com**:**1521**:**ORCL**
	  spring.datasource.hikari.username=**admin**
	  spring.datasource.hikari.password=**Gksmf336!**
	  ```

<img src="C:/Users/mulan/OneDrive/%EB%B0%94%ED%83%95%20%ED%99%94%EB%A9%B4/db%EC%97%B0%EA%B2%B0.PNG" alt="db연결" style="zoom: 67%;" />

2. git clone 후 project 기본 설정

   window-preference-general-workspace-text file encoding-utf-8

	​							  -web browser-use external~-chrome

   ​     					     -server-runtime~-add-tomcat9.0-browes(톰캣 폴더설정)

   ​      					    -web-css files, html files, jsp files에서 utf-8로 변경
   
3. CRUD VIEW/(html) 페이지

   - views/contents폴더에 createForm.jsp, deleteForm.jsp, detail.jsp, updateFileForm.jsp, updateForm.jsp 생성

   - tiles에 tiles_contents 생성
   - TilesConfiguration코드 tiles/*.xml로 수정
   - com.project.contents 패키지 생성
     - ContentsController 생성, CRUD의 getmapping 설정

   - create: 내용, 사진, 태그, 날짜

     1) 내용 칸 넓게 하고 왼쪽에 라벨 없이 내용 입력 칸 안에 '내용'이라는 기본 글씨가 보이고, 글을 입력하면 없어지게 구현

    ```html
    방법1: <input type="text" name="search" value="검색" onfocus="this.value=''" />
    ```

     ```html
     방법2: <input type="text" name="formname" placeholder="기본적으로보일텍스트">
     ```

   ​		 2. [부트스트랩 GREED 시스템]

   ​	Bootstrap의 그리드 시스템에서 사용하고 있는 칼럼의 클래스 종류는 기본적으로 4가지가 있으며, 각각의 종류 뒤에는 12칼럼 중 몇개의 칼럼을 사용할지 명시하여 사용하면 된다.

   | .col-xs-* | 항상 가로로 배치                 |
   | --------- | -------------------------------- |
   | .col-sm-* | 768px 이하에서 세로로 표시 시작  |
   | .col-md-* | 992px 이하에서 세로로 표시 시작  |
   | .col-lg-* | 1200px 이하에서 세로로 표시 시작 |

   ​																																				[출처](https://unikys.tistory.com/371)

   ​	form-group이 없으면 margin 값이 없어서 다닥다닥 붙어서 나옴

     3. TEXTAREA 사용해서 여러줄 입력, 엔터로 줄바꿈 적용

        ```html
        <input type='text'>는 한 줄의 텍스트만 입력받는다
        ```

        textarea 칸에 기본 값 넣는 방법

        [참고](https://rh-cp.tistory.com/64)

        ```html
        input text에 값 넣기
        <input type="text" value="여기에 값을 넣어준다!"> 
        
        Textarea에 값 넣기
        <textarea rows="8" cols="85">"바깥부분에 값을 넣어준다!</textarea>
        ```

        

        받아오는 데이터의 줄바꿈 적용하는 법:[참고](https://dkfkslsksh.tistory.com/15)

        ```html
          <div class="form-group">
            <div class="col-sm-offset-2 col-xs-6">
              <textarea name="content" id="content" class="form-control" style="height:300px;resize:none;" placeholder="내용"></textarea>
            </div>
          </div>
        ```

        resize:none = 입력창 크기 조절할 수 없게 고정

   4. LABEL 태그

      <label>태그 사이에 위치한 text, checkbox, radio 등을 클릭하면 input 태그 영역으로 커서를 이동시킨다. for 속성을 input 태그의 id 속성과 일치시켜 사용.

   글 등록 버튼은 index에

   - orders페이지에 있는 3개의 jsp 파일 다 option 이용해서 value 보내고 선택할 수 있고
     value값을 숫자고 하고 > < 이 사이에 어느정도로 공개할 건지 쓰면 

4. notice view 페이지
   - 글 CRUD와 동일
   - interceptor 기능 추가하기
   
5. table(sql)

   <img src="%EC%A7%84%ED%96%89%EC%83%81%ED%99%A9%20%EB%B0%8F%20%EC%98%A4%EB%A5%98.assets/table.png" alt="table" style="zoom:80%;" /><img src="%EC%A7%84%ED%96%89%EC%83%81%ED%99%A9%20%EB%B0%8F%20%EC%98%A4%EB%A5%98.assets/table2.png" alt="table2" style="zoom:80%;" />

6. TAG-CONTENTS= N:M

   -> TAG-POSTTAG=1:N // POSTTAG-CONTENTS=M:1
   
   <img src="%EC%A7%84%ED%96%89%EC%83%81%ED%99%A9%20%EB%B0%8F%20%EC%98%A4%EB%A5%98.assets/DD.png" alt="DD" style="zoom:50%;" />
   
7. db연결

   - dto 생성

   - mybatis에 contents.xml 생성

     [해시태그 관련참고](https://velog.io/@juna-dev/%ED%95%B4%EC%8B%9C%ED%83%9C%EA%B7%B8-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-9ak4xocihh)

     ```sql
     {call
             declare
             begin
                 insert	into zagook_contents(contentsno, id, filename, contents,
     			rdate, privacy)
     			values((select nvl(max(contentsno),0)+1
     			from zagook_contents),
     			#{id}, #{filename}, #{contents}, sysdate, #{privacy});
     			insert into zagook_tag(tag_id, tag)
     			values ((select nvl(max(tag_id),0)+1
     			from zagook_tag), #{tag});
     			insert into zagook_posttag(contentsno, tag_id)
     			values ((select max(contentsno)
     			from zagook_contents), (select max(tag_id)
     			from zagook_tag));
             end
         }
     ```
     
     아래의 방법이 안돼서 다중쿼리 넣는 다른 방법으로 시도.
     
     데이터는 들어가지만 뷰페이지 에러 발생-> 세 쿼리가 실행되는데 int로 받아서인가?
     
     
     
   - mybatis에서 여러 쿼리 실행시키는 법

     DB연결 부분에

     ```properties
     #?allowMultiQueries=true 붙여주기
     >>>application.properties에 추가
     spring.datasource.hikari.jdbc-url: jdbc:oracle:thin:@database-1.cxfxuru6havp.ap-northeast-2.rds.amazonaws.com:1521:ORCL?allowMultiQueries=true
     ```

   - createForm에서 id를 hidden으로 controller로 보내기

     ```jsp
        <input type="hidden" name="id" value="${id}">
     ```

     id 정보 가져가는 법: bbs의 updateform에서 

     ```jsp
     <input type =*"hidden"* name=*'oldfile'* value=*'*<%=dto.getFilename() %>*'*>
     ```

     bbs의 delete_ajax에서

     ```jsp
     <h1 class="col-sm-offset-2 col-sm-10">삭제</h1>
     		<input type="hidden" name='bbsno' id="bbsno" value="${param.bbsno}">
     		<input type="hidden" name='oldfile' id="oldfile" value="${param.oldfile}">
     		<input type="hidden" name='col' value='${param.col}'>
     		<input type="hidden" name='word' value='${param.word}'>
     		<input type="hidden" name='nowPage' value='${param.nowPage}'>
     		<div class="form-group">
     ```

     **textarea 값을 변수에 넣기 테스트**

     updateForm, createForm에서

     ```html
     <script>
     	contents = $("textarea#contents").val();
     </script>
     ```

   - contentsMapper, Service, ServiceImpl 생성

   - controller에 postmapping 추가

   - updateform 에서 사진 수정 버튼 누르면 바로 파일 선택이 되도록(수정 버튼은 hide) [참고](https://esckey.tistory.com/66)

     ```jsp
     <script type="text/JavaScript">
     	function updatefile(filename){
         	$('#updatebtn').hide(); 
     		$('#selectimg').show();
           }
     </script>
     ...
     <div class="col-sm-6">
         <img src="/images/${dto.filename}" style="width:500px">
         <br>
         <button type="button" class="btn btn-default" id="updatebtn"
                 onclick="javascript:updatefile('${dto.filename}')">수정</button>
         <div class="col-sm-6" id="selectimg" style="display:none">          
             <input type="file" class="form-control" id="filenameMF" 
                    name="filenameMF" accept=".jpg,.png,.gif" required="required">
         </div>
     </div>
     ```

     


컨텐츠 넘버 좋아요 리플라이넘버

다 구현한 뒤 추가: 피드 좋아요/자국표시 누르면 메인 페이지 지도에도 자국 찍혀있는 기능?

